#____GENERAL____

prefix : 'data/easy'
restart : FALSE

#____SCAFFOLDS____

default_scaffold_parameters :
  sigmoid_aggression : 6
  n_cells : 200
  gamma : 0.1
  max_depth : 2
  max_width : 2
  ptime_beta : 0.5
  ptime_alpha : 1.

scaffolds:
  scaffold1 : 
    state_compositions : 
      - [1, 0, 0]
      - [0.33, 0.33, 0.33]
      - [0, 1, 0]
      - [0, 0, 1]

#____TESTS____

test_replicates : 1

default_test_parameters:
  datasets:
    - ../frankencell/data/benchmark_rna.h5ad
    - ../frankencell/data/benchmark_atac.h5ad
  feature_types:
    - RNA
    - ATAC
  pure_states: [C, A, B, D]
  cell_state_col : cell_groups
  n_jobs : 1
  rd_stds : [0.45, 0.3]

test_conditions:
  test1 :
    rd_means : [4000, 8000]
    

#____PREPROCESSING____
default_preprocessing_parameters: 
  min_cells : 10

preprocessing:
  pca :
    script : pca-preprocess
    concurrent_job_penalty : 1
    parameters:
      min_dispersion : 0.7
      feature_type : RNA
  lsi :
    script : lsi-preprocess
    concurrent_job_penalty : 1
    parameters :
      feature_type : ATAC
  mira_monotonic :
    script : mira-preprocess
    concurrent_job_penalty : 1
    parameters:
      use_atac_features : FALSE
      min_dispersion : 0.7
      tune : FALSE
      kl_strategy : monotonic
  mira_cyclic : 
    script : mira-preprocess
    concurrent_job_penalty : 1
    parameters :
      use_atac_features : FALSE
      min_dispersion : 0.7
      tune : FALSE
      kl_strategy : cyclic

#____METHODS____
default_method_parameters: {}

methods :
  mira_tree :
    run_file : /Users/alynch/projects/multiomics/cellgen2/frankencell/methods/mira/run
    definition_file : /Users/alynch/projects/multiomics/cellgen2/frankencell/methods/mira/definition.yaml
    trials : 
      mira_cyclic_RNA_log:
        parameters: use_rep="RNA", box_cox=0
        preprocessing: mira_cyclic
      mira_cyclic_RNA_sqrt:
        parameters: use_rep="RNA", box_cox=0.5
        preprocessing: mira_cyclic
        parameters: use_rep="RNA", box_cox=0
        preprocessing: mira_monotonic
      mira_monotonic_RNA_sqrt:
        parameters: use_rep="RNA", box_cox=0.5
        preprocessing: mira_monotonic

slingshot_pca : 
  run_file : /Users/alynch/projects/multiomics/cellgen2/frankencell/methods/custom_slingshot/run.R
  definition_file : /Users/alynch/projects/multiomics/cellgen2/frankencell/methods/custom_slingshot/definition.yaml
  trials:
    min_dim_3:
      parameters: min_dim=3
      preprocessing: pca
    min_dim_4:
      parameters: min_dim=4
      preprocessing: pca
    min_dim_5:
      parameters: min_dim=5
      preprocessing: pca
slingshot_lsi : 
  run_file : /Users/alynch/projects/multiomics/cellgen2/frankencell/methods/signac/run.R
  definition_file : /Users/alynch/projects/multiomics/cellgen2/frankencell/methods/signac/definition.yaml
  trials:
    allen_3_True:
      parameters: min_dim=3, style="allen", skip_first_dim=TRUE
      preprocessing: lsi
    allen_4_True:
      parameters: min_dim=4, style="allen", skip_first_dim=TRUE
      preprocessing: lsi
    allen_5_True:
      parameters: min_dim=5, style="allen", skip_first_dim=TRUE
      preprocessing: lsi
    seurat_3_True:
      parameters: min_dim=3, style="seurat", skip_first_dim=TRUE
      preprocessing: lsi
    seurat_4_True:
      parameters: min_dim=4, style="seurat", skip_first_dim=TRUE
      preprocessing: lsi
    seurat_5_True:
      parameters: min_dim=5, style="seurat", skip_first_dim=TRUE
      preprocessing: lsi
    signac_3_True:
      parameters: min_dim=3, style="signac", skip_first_dim=TRUE
      preprocessing: lsi
    signac_4_True:
      parameters: min_dim=4, style="signac", skip_first_dim=TRUE
      preprocessing: lsi
    signac_5_True:
      parameters: min_dim=5, style="signac", skip_first_dim=TRUE
      preprocessing: lsi
