
#____PREPROCESSING____
default_preprocessing_parameters:
  min_dispersion : 0.7
  tuning_args:
    min_topics : 5
    min_epochs : 40
    max_epochs : 60
    max_dropout : 0.1
    top_n_trials : 5
    train_size : 0.9
    cv : shufflesplit
    batch_sizes : [32,64]
  rna_model_args:
    beta : 0.92
    batch_size : 64
    encoder_dropout : 0.05
    num_topics : 7
    decoder_dropout : 0.2
    num_epochs : 45    
    num_layers : 2
    hidden : 64
    seed : 2556
  atac_model_args:
    beta : 0.92
    batch_size : 64
    encoder_dropout : 0.05
    num_topics : 7
    decoder_dropout : 0.2
    num_epochs : 45    
    num_layers : 2
    hidden : 64
    embedding_size : 64
    seed : 2556

preprocessing:
  mira_notune_RNA:
    script : mira-preprocess
    mem : 1000
    parameters:
      train_style : fit
      use_atac_features : false
      use_rna_features : true
      min_cells : 25
  mira_notune_ATAC:
    script : mira-preprocess
    mem : 3000
    parameters:
      train_style : fit
      use_atac_features : true
      use_rna_features : false
      min_cells : 35

#____METHODS____
default_method_parameters: {}

methods :
  mira_tree:
    run_file : /liulab/alynch/projects/benchmarking/2022-02-08_experiment/frankencell-dynverse/frankencell/methods/mira/run
    definition_file : /liulab/alynch/projects/benchmarking/2022-02-08_experiment/frankencell-dynverse/frankencell/methods/mira/definition.yaml
    trials:
      mira_notune_RNA : 
        parameters: use_rep="RNA", box_cox=0.25
        preprocessing: mira_notune_RNA
      mira_notune_ATAC:
        parameters: use_rep="ATAC", box_cox=0.25
        preprocessing: mira_notune_ATAC